<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://xmlns.jcp.org/jsf/html"
xmlns:f="http://xmlns.jcp.org/jsf/core"
xmlns:p ="http://primefaces.org/ui">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Usuario 5</title>
	<h:outputScript library="js" name="spanishLocale.js"></h:outputScript>
</h:head>
	
<h:body>

	<h:form>
		<p:messages id="mensaje">
			<!--  <p:autoUpdate/> -->
		</p:messages>
	
		<p:fieldset legend="Datos Personales">		
			<h:panelGrid columns="3" id="pgDatos" >
					
				<p:outputLabel value="Nombre" for="txtNombre" />
				<p:inputText id="txtNombre" value="#{usuarioController.persona.nombre}" required="true" label="Rellene nombre"/>
				<p:message for="txtNombre"/>
				
				<p:outputLabel value="Apellidos" for="txtApellidos" />
				<p:inputText id="txtApellidos" value="#{usuarioController.persona.apellidos}"  required="true" label="Rellene apellidos"/>
				<p:message for="txtApellidos"/>
			
				
				<p:outputLabel value="Sexo" for="txtSexo" />
				<p:selectOneRadio id="txtSexo" value="#{usuarioController.persona.sexo}"  required="true" label="Rellene sexo">
					<f:selectItem itemValue="M" itemLabel="MASCULINO" />
					<f:selectItem itemValue="F" itemLabel="FEMENINO" />			
				</p:selectOneRadio>
				<p:message for="txtSexo"/>
				
				
				<p:outputLabel for="rdbFechaNacimiento" value="Fecha de nacimineto" />
				<p:calendar id="rdbFechaNacimiento" locale="es" value="#{usuarioController.persona.fechaNacimiento}"  required="true" label="Rellene fecha"></p:calendar>
				<p:message for="rdbFechaNacimiento"/>
				</h:panelGrid>
				
				<p:commandButton icon="ui-icon-check" value="Registrar" update="pgDatos, pgCuenta"/> 
				<!-- Puedo poner en el update aquellos panelgrid que yo quiero que se actualizen. 
				Por ejemplo, pongo los dos panelgrid, pero no pongo los mensajes de arriba.
				Por ello, solo me saldrán los mensajes a la derecha y no los de arriba.
				No es necesario poner el ajax = false debido a que ya estoy forzando a que se actualicen. --> 
		</p:fieldset>	
		
		<p:fieldset legend="Datos de la Cuenta">		
			<h:panelGrid columns="3" id="pgCuenta" >
					
				<p:outputLabel value="Usuario" for="txtUsuario" />
				<p:inputText id="txtUsuario" value="#{usuarioController.usuario.usuario}"  required="true" label="Rellene usuario"/>
				<p:message for="txtUsuario"/>
				
				<p:outputLabel value="Clave" for="clave1" />
				<p:password id="clave1" value="#{usuarioController.usuario.clave}"  
					required="true" label="Rellene clave"
					validatorMessage="Las claves no coinciden." weakLabel="Défil" strongLabel="Fuerte"
					match="clave2" feedback="true" promptLabel=""/>
				<p:message for="clave1"/>
									
				<p:outputLabel value="Repetir Clave" for="clave2" />
				<p:password id="clave2" value="#{usuarioController.usuario.clave}"  required="true" label="Rellene clave2"/>
				<p:message for="clave2"/>							
							
			</h:panelGrid>
		</p:fieldset>	
	</h:form>
	
</h:body>

</html>